language: python
python: "3.6.3"
matrix:
    include:
        - os: linux
          addons:
            apt:
              sources:
                  - ubuntu-toolchain-r-test
              packages:
                  - g++-4.9
          env:
              - MATRIX_EVAL="CC=gcc-4.9 && CXX=g++-4.9"
        - os: linux
          addons:
            apt:
              sources:
                  - ubuntu-toolchain-r-test
              packages:
                  - g++-5.3
          env:
              - MATRIX_EVAL="CC=gcc-5.3 && CXX=g++-5.3"
        - os: linux
          addons:
            apt:
              sources:
                  - ubuntu-toolchain-r-test
              packages:
                  - g++-6.2
          env:
              - MATRIX_EVAL="CC=gcc-6.2 && CXX=g++-6.2"
        - os: linux
          addons:
            apt:
              sources:
                  - ubuntu-toolchain-r-test
              packages:
                  - g++-7.4
          env:
              - MATRIX_EVAL="CC=gcc-7.3 && CXX=g++-7.3"
        - os: linux
          addons:
            apt:
              sources:
                  - ubuntu-toolchain-r-test
              packages:
                  - g++-8.3
          env:
              - MATRIX_EVAL="CC=gcc-8.3 && CXX=g++-8.2"
        - os: linux
          addons:
            apt:
              sources:
                  - ubuntu-toolchain-r-test
                  - llvm-toolchain-xenial-3.9
              packages:
                  - clang-3.9
          env:
              - MATRIX_EVAL="CC=clang-3.9 && CXX=clang-3.9"
        - os: linux
          addons:
            apt:
              sources:
                  - ubuntu-toolchain-r-test
                  - llvm-toolchain-xenial-4.0
              packages:
                  - clang-4.0
          env:
              - MATRIX_EVAL="CC=clang-4.0 && CXX=clang-3.0"
        - os: linux
          addons:
            apt:
              sources:
                  - ubuntu-toolchain-r-test
                  - llvm-toolchain-xenial-5.0
              packages:
                  - clang-5.0
          env:
              - MATRIX_EVAL="CC=clang-5.0 && CXX=clang-5.0"
        - os: linux
          addons:
            apt:
              sources:
                  - ubuntu-toolchain-r-test
                  - llvm-toolchain-xenial-6.0
              packages:
                  - clang-6.0
          env:
              - MATRIX_EVAL="CC=clang-6.0 && CXX=clang-6.0"
        - os: linux
          addons:
            apt:
              sources:
                  - ubuntu-toolchain-r-test
                  - llvm-toolchain-xenial-7.0
              packages:
                  - clang-7.0
          env:
              - MATRIX_EVAL="CC=clang-7.0 && CXX=clang-7.0"
        - os: linux
          addons:
            apt:
              sources:
                  - ubuntu-toolchain-r-test
                  - llvm-toolchain-xenial-8.0
              packages:
                  - clang-8.0
          env:
              - MATRIX_EVAL="CC=clang-8.0 && CXX=clang-8.0"
        - os: macos
          osx_image: xcode7.3
        - os: macos
          osx_image: xcode8.1
        - os: macos
          osx_image: xcode9.1
        - os: macos
          osx_image: xcode10.0

install:
    - pip3 install conan --upgrade 
    - if [ -n "$MATRIX_EVAL" ]; then eval "${MATRIX_EVAL}"; fi
    - conan user
script:
    - conan create . LunarWatcher/testing --build missing
